---
- name: Update ubuntu packages
  become: true
  apt:
    upgrade: dist
    
- name: copy bash_additions
  template:
    src: files/bash_additions.sh
    dest: ~/.bash_additions

- name: Ensure .bashrc sources the additions
  lineinfile:
    path: ~/.bashrc
    state: present
    line: source ~/.bash_additions
    
- name: Install packages needed for some of the depencies
  become: true
  apt:
    name: autoconf bison build-essential libssl-dev libyaml-dev libreadline6-dev zlib1g-dev libncurses5-dev libffi-dev libgdbm5 libgdbm-dev
    update_cache: true
    state: present
